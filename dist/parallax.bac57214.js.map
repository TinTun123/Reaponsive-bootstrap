{"version":3,"sources":["parallax.js-1.5.0/parallax.js"],"names":["$","window","document","undefined","Parallax","element","options","self","refresh","render","extend","$element","imageSrc","is","attr","positions","position","toLowerCase","match","navigator","length","push","positionX","positionY","isNaN","parseInt","userAgent","iosFix","css","backgroundImage","backgroundSize","backgroundPosition","androidFix","$mirror","prependTo","mirrorContainer","slider","find","sliderExisted","$slider","addClass","visibility","zIndex","top","left","overflow","one","naturalHeight","naturalWidth","height","width","aspectRatio","isSetup","setup","sliders","isFresh","requestRender","src","complete","trigger","lastTime","vendors","x","requestAnimationFrame","cancelAnimationFrame","callback","currTime","Date","getTime","timeToCall","Math","max","id","setTimeout","clearTimeout","prototype","speed","bleed","overScrollFix","boxWidth","outerWidth","boxHeight","outerHeight","boxOffsetTop","offset","boxOffsetLeft","boxOffsetBottom","winHeight","margin","docHeight","maxOffset","min","minOffset","imageHeightMin","imageOffsetMin","imageWidth","imageHeight","offsetBaseTop","offsetLeft","scrollTop","scrollLeft","overScroll","scrollBottom","mirrorTop","mirrorLeft","offsetTop","transform","maxWidth","winWidth","docWidth","isReady","isBusy","$doc","$win","loadDimensions","loadScrollPosition","winScrollTop","scrollTopMax","scrollLeftMax","on","lastPosition","frameLoop","pageYOffset","configure","each","destroy","el","i","parallaxElement","data","remove","splice","off","old","fn","parallax","Plugin","option","$this","Constructor","noConflict","jQuery"],"mappings":"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","file":"parallax.bac57214.js","sourceRoot":"..","sourcesContent":["/*!\n * parallax.js v1.5.0 (http://pixelcog.github.io/parallax.js/)\n * @copyright 2016 PixelCog, Inc.\n * @license MIT (https://github.com/pixelcog/parallax.js/blob/master/LICENSE)\n */\n\n;(function ( $, window, document, undefined ) {\n\n  // Polyfill for requestAnimationFrame\n  // via: https://gist.github.com/paulirish/1579671\n\n  (function() {\n    var lastTime = 0;\n    var vendors = ['ms', 'moz', 'webkit', 'o'];\n    for(var x = 0; x < vendors.length && !window.requestAnimationFrame; ++x) {\n      window.requestAnimationFrame = window[vendors[x]+'RequestAnimationFrame'];\n      window.cancelAnimationFrame = window[vendors[x]+'CancelAnimationFrame'] || window[vendors[x]+'CancelRequestAnimationFrame'];\n    }\n\n    if (!window.requestAnimationFrame)\n      window.requestAnimationFrame = function(callback) {\n        var currTime = new Date().getTime();\n        var timeToCall = Math.max(0, 16 - (currTime - lastTime));\n        var id = window.setTimeout(function() { callback(currTime + timeToCall); },\n          timeToCall);\n        lastTime = currTime + timeToCall;\n        return id;\n      };\n\n    if (!window.cancelAnimationFrame)\n      window.cancelAnimationFrame = function(id) {\n        clearTimeout(id);\n      };\n  }());\n\n\n  // Parallax Constructor\n\n  function Parallax(element, options) {\n    var self = this;\n\n    if (typeof options == 'object') {\n      delete options.refresh;\n      delete options.render;\n      $.extend(this, options);\n    }\n\n    this.$element = $(element);\n\n    if (!this.imageSrc && this.$element.is('img')) {\n      this.imageSrc = this.$element.attr('src');\n    }\n\n    var positions = (this.position + '').toLowerCase().match(/\\S+/g) || [];\n\n    if (positions.length < 1) {\n      positions.push('center');\n    }\n    if (positions.length == 1) {\n      positions.push(positions[0]);\n    }\n\n    if (positions[0] == 'top' || positions[0] == 'bottom' || positions[1] == 'left' || positions[1] == 'right') {\n      positions = [positions[1], positions[0]];\n    }\n\n    if (this.positionX !== undefined) positions[0] = this.positionX.toLowerCase();\n    if (this.positionY !== undefined) positions[1] = this.positionY.toLowerCase();\n\n    self.positionX = positions[0];\n    self.positionY = positions[1];\n\n    if (this.positionX != 'left' && this.positionX != 'right') {\n      if (isNaN(parseInt(this.positionX))) {\n        this.positionX = 'center';\n      } else {\n        this.positionX = parseInt(this.positionX);\n      }\n    }\n\n    if (this.positionY != 'top' && this.positionY != 'bottom') {\n      if (isNaN(parseInt(this.positionY))) {\n        this.positionY = 'center';\n      } else {\n        this.positionY = parseInt(this.positionY);\n      }\n    }\n\n    this.position =\n      this.positionX + (isNaN(this.positionX)? '' : 'px') + ' ' +\n      this.positionY + (isNaN(this.positionY)? '' : 'px');\n\n    if (navigator.userAgent.match(/(iPod|iPhone|iPad)/)) {\n      if (this.imageSrc && this.iosFix && !this.$element.is('img')) {\n        this.$element.css({\n          backgroundImage: 'url(' + this.imageSrc + ')',\n          backgroundSize: 'cover',\n          backgroundPosition: this.position\n        });\n      }\n      return this;\n    }\n\n    if (navigator.userAgent.match(/(Android)/)) {\n      if (this.imageSrc && this.androidFix && !this.$element.is('img')) {\n        this.$element.css({\n          backgroundImage: 'url(' + this.imageSrc + ')',\n          backgroundSize: 'cover',\n          backgroundPosition: this.position\n        });\n      }\n      return this;\n    }\n\n    this.$mirror = $('<div />').prependTo(this.mirrorContainer);\n\n    var slider = this.$element.find('>.parallax-slider');\n    var sliderExisted = false;\n\n    if (slider.length == 0)\n      this.$slider = $('<img />').prependTo(this.$mirror);\n    else {\n      this.$slider = slider.prependTo(this.$mirror)\n      sliderExisted = true;\n    }\n\n    this.$mirror.addClass('parallax-mirror').css({\n      visibility: 'hidden',\n      zIndex: this.zIndex,\n      position: 'fixed',\n      top: 0,\n      left: 0,\n      overflow: 'hidden'\n    });\n\n    this.$slider.addClass('parallax-slider').one('load', function() {\n      if (!self.naturalHeight || !self.naturalWidth) {\n        self.naturalHeight = this.naturalHeight || this.height || 1;\n        self.naturalWidth  = this.naturalWidth  || this.width  || 1;\n      }\n      self.aspectRatio = self.naturalWidth / self.naturalHeight;\n\n      Parallax.isSetup || Parallax.setup();\n      Parallax.sliders.push(self);\n      Parallax.isFresh = false;\n      Parallax.requestRender();\n    });\n\n    if (!sliderExisted)\n      this.$slider[0].src = this.imageSrc;\n\n    if (this.naturalHeight && this.naturalWidth || this.$slider[0].complete || slider.length > 0) {\n      this.$slider.trigger('load');\n    }\n\n  }\n\n\n  // Parallax Instance Methods\n\n  $.extend(Parallax.prototype, {\n    speed:    0.2,\n    bleed:    0,\n    zIndex:   -100,\n    iosFix:   true,\n    androidFix: true,\n    position: 'center',\n    overScrollFix: false,\n    mirrorContainer: 'body',\n\n    refresh: function() {\n      this.boxWidth        = this.$element.outerWidth();\n      this.boxHeight       = this.$element.outerHeight() + this.bleed * 2;\n      this.boxOffsetTop    = this.$element.offset().top - this.bleed;\n      this.boxOffsetLeft   = this.$element.offset().left;\n      this.boxOffsetBottom = this.boxOffsetTop + this.boxHeight;\n\n      var winHeight = Parallax.winHeight;\n      var docHeight = Parallax.docHeight;\n      var maxOffset = Math.min(this.boxOffsetTop, docHeight - winHeight);\n      var minOffset = Math.max(this.boxOffsetTop + this.boxHeight - winHeight, 0);\n      var imageHeightMin = this.boxHeight + (maxOffset - minOffset) * (1 - this.speed) | 0;\n      var imageOffsetMin = (this.boxOffsetTop - maxOffset) * (1 - this.speed) | 0;\n      var margin;\n\n      if (imageHeightMin * this.aspectRatio >= this.boxWidth) {\n        this.imageWidth    = imageHeightMin * this.aspectRatio | 0;\n        this.imageHeight   = imageHeightMin;\n        this.offsetBaseTop = imageOffsetMin;\n\n        margin = this.imageWidth - this.boxWidth;\n\n        if (this.positionX == 'left') {\n          this.offsetLeft = 0;\n        } else if (this.positionX == 'right') {\n          this.offsetLeft = - margin;\n        } else if (!isNaN(this.positionX)) {\n          this.offsetLeft = Math.max(this.positionX, - margin);\n        } else {\n          this.offsetLeft = - margin / 2 | 0;\n        }\n      } else {\n        this.imageWidth    = this.boxWidth;\n        this.imageHeight   = this.boxWidth / this.aspectRatio | 0;\n        this.offsetLeft    = 0;\n\n        margin = this.imageHeight - imageHeightMin;\n\n        if (this.positionY == 'top') {\n          this.offsetBaseTop = imageOffsetMin;\n        } else if (this.positionY == 'bottom') {\n          this.offsetBaseTop = imageOffsetMin - margin;\n        } else if (!isNaN(this.positionY)) {\n          this.offsetBaseTop = imageOffsetMin + Math.max(this.positionY, - margin);\n        } else {\n          this.offsetBaseTop = imageOffsetMin - margin / 2 | 0;\n        }\n      }\n    },\n\n    render: function() {\n      var scrollTop    = Parallax.scrollTop;\n      var scrollLeft   = Parallax.scrollLeft;\n      var overScroll   = this.overScrollFix ? Parallax.overScroll : 0;\n      var scrollBottom = scrollTop + Parallax.winHeight;\n\n      if (this.boxOffsetBottom > scrollTop && this.boxOffsetTop <= scrollBottom) {\n        this.visibility = 'visible';\n        this.mirrorTop = this.boxOffsetTop  - scrollTop;\n        this.mirrorLeft = this.boxOffsetLeft - scrollLeft;\n        this.offsetTop = this.offsetBaseTop - this.mirrorTop * (1 - this.speed);\n      } else {\n        this.visibility = 'hidden';\n      }\n\n      this.$mirror.css({\n        transform: 'translate3d('+this.mirrorLeft+'px, '+(this.mirrorTop - overScroll)+'px, 0px)',\n        visibility: this.visibility,\n        height: this.boxHeight,\n        width: this.boxWidth\n      });\n\n      this.$slider.css({\n        transform: 'translate3d('+this.offsetLeft+'px, '+this.offsetTop+'px, 0px)',\n        position: 'absolute',\n        height: this.imageHeight,\n        width: this.imageWidth,\n        maxWidth: 'none'\n      });\n    }\n  });\n\n\n  // Parallax Static Methods\n\n  $.extend(Parallax, {\n    scrollTop:    0,\n    scrollLeft:   0,\n    winHeight:    0,\n    winWidth:     0,\n    docHeight:    1 << 30,\n    docWidth:     1 << 30,\n    sliders:      [],\n    isReady:      false,\n    isFresh:      false,\n    isBusy:       false,\n\n    setup: function() {\n      if (this.isReady) return;\n\n      var self = this;\n\n      var $doc = $(document), $win = $(window);\n\n      var loadDimensions = function() {\n        Parallax.winHeight = $win.height();\n        Parallax.winWidth  = $win.width();\n        Parallax.docHeight = $doc.height();\n        Parallax.docWidth  = $doc.width();\n      };\n\n      var loadScrollPosition = function() {\n        var winScrollTop  = $win.scrollTop();\n        var scrollTopMax  = Parallax.docHeight - Parallax.winHeight;\n        var scrollLeftMax = Parallax.docWidth  - Parallax.winWidth;\n        Parallax.scrollTop  = Math.max(0, Math.min(scrollTopMax,  winScrollTop));\n        Parallax.scrollLeft = Math.max(0, Math.min(scrollLeftMax, $win.scrollLeft()));\n        Parallax.overScroll = Math.max(winScrollTop - scrollTopMax, Math.min(winScrollTop, 0));\n      };\n\n      $win.on('resize.px.parallax load.px.parallax', function() {\n          loadDimensions();\n          self.refresh();\n          Parallax.isFresh = false;\n          Parallax.requestRender();\n        })\n        .on('scroll.px.parallax load.px.parallax', function() {\n          loadScrollPosition();\n          Parallax.requestRender();\n        });\n\n      loadDimensions();\n      loadScrollPosition();\n\n      this.isReady = true;\n\n      var lastPosition = -1;\n\n      function frameLoop() {\n        if (lastPosition == window.pageYOffset) {   // Avoid overcalculations\n          window.requestAnimationFrame(frameLoop);\n          return false;\n        } else lastPosition = window.pageYOffset;\n\n        self.render();\n        window.requestAnimationFrame(frameLoop);\n      }\n\n      frameLoop();\n    },\n\n    configure: function(options) {\n      if (typeof options == 'object') {\n        delete options.refresh;\n        delete options.render;\n        $.extend(this.prototype, options);\n      }\n    },\n\n    refresh: function() {\n      $.each(this.sliders, function(){ this.refresh(); });\n      this.isFresh = true;\n    },\n\n    render: function() {\n      this.isFresh || this.refresh();\n      $.each(this.sliders, function(){ this.render(); });\n    },\n\n    requestRender: function() {\n      var self = this;\n      self.render();\n      self.isBusy = false;\n    },\n    destroy: function(el){\n      var i,\n          parallaxElement = $(el).data('px.parallax');\n      parallaxElement.$mirror.remove();\n      for(i=0; i < this.sliders.length; i+=1){\n        if(this.sliders[i] == parallaxElement){\n          this.sliders.splice(i, 1);\n        }\n      }\n      $(el).data('px.parallax', false);\n      if(this.sliders.length === 0){\n        $(window).off('scroll.px.parallax resize.px.parallax load.px.parallax');\n        this.isReady = false;\n        Parallax.isSetup = false;\n      }\n    }\n  });\n\n\n  // Parallax Plugin Definition\n\n  function Plugin(option) {\n    return this.each(function () {\n      var $this = $(this);\n      var options = typeof option == 'object' && option;\n\n      if (this == window || this == document || $this.is('body')) {\n        Parallax.configure(options);\n      }\n      else if (!$this.data('px.parallax')) {\n        options = $.extend({}, $this.data(), options);\n        $this.data('px.parallax', new Parallax(this, options));\n      }\n      else if (typeof option == 'object')\n      {\n        $.extend($this.data('px.parallax'), options);\n      }\n      if (typeof option == 'string') {\n        if(option == 'destroy'){\n            Parallax.destroy(this);\n        }else{\n          Parallax[option]();\n        }\n      }\n    });\n  }\n\n  var old = $.fn.parallax;\n\n  $.fn.parallax             = Plugin;\n  $.fn.parallax.Constructor = Parallax;\n\n\n  // Parallax No Conflict\n\n  $.fn.parallax.noConflict = function () {\n    $.fn.parallax = old;\n    return this;\n  };\n\n\n  // Parallax Data-API\n\n  $( function () { \n    $('[data-parallax=\"scroll\"]').parallax(); \n  });\n\n}(jQuery, window, document));\n"]}